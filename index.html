<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Proje Takip Kartları</title>
<style>
    body { font-family: Arial; background: #f4f6f8; margin:0; padding:20px; }
    h1 { text-align:center; color:#333; }
    #projectForm { background:white; padding:15px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); margin-bottom:20px; display:flex; gap:10px; flex-wrap:wrap;}
    #projectForm input, #projectForm select { padding:8px; border:1px solid #ccc; border-radius:4px; flex:1; font-size:14px;}
    #projectForm button { background:#4CAF50; color:white; padding:8px 15px; border:none; border-radius:4px; cursor:pointer;}
    #projectForm button:hover { background:#45a049;}
    #cardContainer { display:flex; flex-wrap:wrap; gap:15px; justify-content:center;}
    .card { background:white; border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,0.15); padding:15px; width:250px; position:relative; transition:transform 0.2s, box-shadow 0.2s;}
    .card:hover { transform:translateY(-5px); box-shadow:0 8px 16px rgba(0,0,0,0.25);}
    .delete-btn { position:absolute; top:8px; right:8px; background:transparent; border:none; font-size:16px; cursor:pointer; color:#888;}
    .delete-btn:hover { color:red;}
    .icon { font-size:24px; margin-right:8px;}
    .card-header { display:flex; align-items:center; font-weight:bold; font-size:16px; margin-bottom:10px;}
    .card-dates, .card-type { font-size:14px; color:#555; margin-bottom:5px;}
</style>
</head>
<body>

<header style="display:flex; align-items:center; justify-content:center; margin-bottom:30px;">
    <img src="logo.png" alt="Atölye 1886 Logo" style="height:60px; margin-right:15px;">
    <h1 style="font-family: 'Arial', sans-serif; color:#333;">Proje Takip Kartları</h1>
</header>
<h1>Proje Takip Kartları</h1>

<form id="projectForm">
    <input type="text" id="projectName" placeholder="Proje Adı" required>
    <input type="date" id="startDate" required>
    <input type="date" id="endDate" required>
    <select id="projectType" required>
        <option value="tasarim">3D Tasarım</option>
        <option value="tersine">Tersine Mühendislik</option>
        <option value="proto">Prototipleme</option>
    </select>
    <button type="submit">Ekle</button>
</form>

<div id="cardContainer"></div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>


<script>
    
    // 1️⃣ Firebase Konfigürasyonunu buraya yapıştır
    const firebaseConfig = {
        apiKey: "AIzaSyCxwXtrXxHbC_LcIlbK_PRIQ4v5pXt1l6w",
        authDomain: "atolye1886projectmanagement.firebaseapp.com",
        databaseURL: "https://atolye1886projectmanagement-default-rtdb.firebaseio.com",
        projectId: "atolye1886projectmanagement",
        storageBucket: "atolye1886projectmanagement.firebasestorage.app",
        messagingSenderId: "852948318375",
        appId: "1:852948318375:web:609dd6544580d7d6430382"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const icons = { tasarim:"🎨", tersine:"🔍", proto:"⚙️" };

    function renderProjects(projects) {
        const container = document.getElementById('cardContainer');
        container.innerHTML = "";
        Object.keys(projects).forEach(key => {
            const proj = projects[key];
            const card = document.createElement('div');
            card.className = "card";

            const deleteBtn = document.createElement('button');
            deleteBtn.className = "delete-btn";
            deleteBtn.innerHTML = "❌";
            deleteBtn.onclick = () => { db.ref('projects/' + key).remove(); };

            const header = document.createElement('div');
            header.className = "card-header";
            header.innerHTML = `<span class="icon">${icons[proj.type]}</span>${proj.name}`;

            const dates = document.createElement('div');
            dates.className = "card-dates";
            dates.textContent = `📅 ${proj.start} - ${proj.end}`;

            const type = document.createElement('div');
            type.className = "card-type";
            type.textContent = `Kategori: ${proj.type === 'tasarim' ? '3D Tasarım' : proj.type==='tersine' ? 'Tersine Mühendislik' : 'Prototipleme'}`;

            card.appendChild(deleteBtn);
            card.appendChild(header);
            card.appendChild(dates);
            card.appendChild(type);

            container.appendChild(card);
        });
    }

    // 2️⃣ Form gönderimi
    document.getElementById('projectForm').addEventListener('submit', e => {
        e.preventDefault();
        const name = document.getElementById('projectName').value;
        const start = document.getElementById('startDate').value;
        const end = document.getElementById('endDate').value;
        const type = document.getElementById('projectType').value;
        db.ref('projects').push({name, start, end, type});
        e.target.reset();
    });

    // 3️⃣ Realtime listener
    db.ref('projects').on('value', snapshot => {
        const data = snapshot.val() || {};
        renderProjects(data);
    });
</script>

</body>
</html>


